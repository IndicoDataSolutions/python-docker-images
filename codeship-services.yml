alpine-3-9-3:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/alpine
    args:
      ALPINE_VERSION: 3.9.3
  dockercfg_service: gcr-dockercfg

atmosphere:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/atmosphere
  dockercfg_service: gcr-dockercfg

stratosphere-dependencies:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/stratosphere-dependencies
    encrypted_args_file: build_args.encrypted
  dockercfg_service: gcr-dockercfg

aws:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/aws
  dockercfg_service: gcr-dockercfg

flower:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/flower
  dockercfg_service: gcr-dockercfg

nginx-uploader:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/nginx-uploader
    args:
      nginx_version: 1.17.5
  dockercfg_service: gcr-dockercfg

numpy-ubuntu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/numpy-ubuntu
  dockercfg_service: gcr-dockercfg

numpy-ubuntu-1.18.4:
  default_cache_branch: "latest"
  build:
    args:
      NUMPY_VERSION: 1.18.4
    dockerfile: Dockerfile/numpy-ubuntu
  dockercfg_service: gcr-dockercfg

nvidia-install:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/nvidia-install
  dockercfg_service: gcr-dockercfg

pandas-ubuntu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/pandas-ubuntu
  dockercfg_service: gcr-dockercfg

pandas-ubuntu-1.0.3:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/pandas-ubuntu
    args:
      PANDAS_VERSION: 1.0.3
      NUMPY_VERSION: 1.18.4
  dockercfg_service: gcr-dockercfg

scipy-ubuntu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/scipy-ubuntu
  dockercfg_service: gcr-dockercfg

sklearn-ubuntu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/sklearn-ubuntu
  dockercfg_service: gcr-dockercfg

tensorflow-ubuntu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/tensorflow-ubuntu
  dockercfg_service: gcr-dockercfg

tsne-ubuntu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/tsne
  dockercfg_service: gcr-dockercfg

ubuntu-18-04:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/ubuntu
    args:
      UBUNTU_VERSION: 18.04
  dockercfg_service: gcr-dockercfg

ubuntu-gpu:
  default_cache_branch: "latest"
  build:
    dockerfile: Dockerfile/ubuntu_gpu
  dockercfg_service: gcr-dockercfg

gcr-dockercfg:
  image: indicoio/gcr-dockercfg
  add_docker: true
  encrypted_env_file: codeship.env

test-1:
  image: busybox
  depends_on:
    - tensorflow-ubuntu
    - alpine-3-9-3
    - ubuntu-18-04

test-2:
  image: busybox
  depends_on:
    - aws
    - flower
    - nginx-uploader
    - numpy-ubuntu
    - numpy-ubuntu-1.18.4
    - nvidia-install
    - ubuntu-gpu

test-3:
  image: busybox
  depends_on:
    - pandas-ubuntu
    - pandas-ubuntu-1.0.3
    - scipy-ubuntu

test-4:
  image: busybox
  depends_on:
    - sklearn-ubuntu
    - tsne-ubuntu
