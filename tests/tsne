FROM indicoio/tsne as tsne-base
FROM indicoio/alpine

COPY --from=tsne-base /root/.cache/pip/wheels/ /root/.cache/pip/wheels

RUN pip3 install numpy==1.15.4 && \
    pip3 install git+https://github.com/IndicoDataSolutions/tsne.git && \
    rm -r /root/.cache # After installing python packages to reduce image size.